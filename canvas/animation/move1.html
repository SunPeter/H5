<!doctype>
<html>
<charset="utf-8">
<head>
    <title></title>
    <style type="text/css">
        *{
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
<canvas id="canvas" width="400px" height="600px"></canvas>
</body>
<script type="text/javascript">
    var canvas=document.getElementById('canvas');
    var ctx=canvas.getContext("2d");
    ctx.save();

    var ball={
        "r":5,
        "speed":50,
        "v":45,
        "x":10,
        "y":10,
        "angle":45
    }

    function draw(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.strokeRect(1,1,canvas.width-1,canvas.height-1);
        ctx.beginPath();
        ctx.fillStyle="#000;"
        ctx.arc(ball.x,ball.y,ball.r,0,2*Math.PI,false);
        ctx.fill();
        ctx.closePath();
        update();
    }

    function update(){
        /**
         * 设置向量角度
         */
        if(ball.x<0||ball.x>canvas.width){
            ball.angle=180-ball.angle;
        }
        if(ball.y<0||ball.y>canvas.height){
            ball.angle=360-ball.angle;
        }

        /**
         *
         * 设置单位时间运动距离
         */
        ball.vx=Math.floor(ball.speed*(Math.cos(ball.angle/180*Math.PI)));
        ball.vy=Math.floor(ball.speed*(Math.sin(ball.angle/180*Math.PI)));

        /**
         * 更新
         */
        ball.x+=ball.vx,
        ball.y+=ball.vy;
    }

    setInterval(draw,50);

</script>
</html>